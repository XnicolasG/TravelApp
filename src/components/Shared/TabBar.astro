---
import Home from "../../../public/svg/Home.astro";
import Like from "../../../public/svg/Like.astro";
import Trend from "../../../public/svg/Trend.astro";
import Dark from "../../../public/svg/Dark.astro";
import Ligth from "../../../public/svg/Ligth.astro";
const { theme } = Astro.props;

const Icons = [
    { svg: Home, id: "home" },
    { svg: Like, id: "recomendations" },
    { svg: Trend, id: "trend" },
];
---

<nav
    id="tab-bar"
    class="flex justify-center items-center sm:hidden w-full h-16 py-4 border-t-4 border-rose-600 bg-gray-950 dark:bg-slate-200 sticky bottom-0"
>
    <section class="flex w-1/2 justify-around">
        {
            Icons.map((item) => (
                <a
                    href={`#${item.id}`}
                    title={`#${item.id}`}
                    class="group p-2 rounded-full bg-gray-700 ring ring-slate-200  dark:bg-white hover:shadow-md transition-all duration-200"
                >
                    <item.svg class="size-7 text-slate-200 dark:text-black group-hover:text-primary transition-all duration-150" />
                </a>
            ))
        }
        <button id="darkMode" class="p-2 rounded-full bg-gray-700 ring ring-slate-200  dark:bg-white hover:shadow-md transition-all duration-200">
            {
                theme === 'dark' ? <Ligth class="size-7 text-slate-200 dark:text-black group-hover:text-primary transition-all duration-150" /> : <Dark  class="size-7 text-slate-200 dark:text-black group-hover:text-primary transition-all duration-150"/>
            }
            
        </button>
    </section>
</nav>

<script>
    document.getElementById('darkMode')?.addEventListener('click', () => {
        if (localStorage.theme == 'dark') {
            localStorage.theme = 'light';
            document.documentElement.classList.remove('dark');
        }else{
            localStorage.theme = 'dark';
            document.documentElement.classList.add('dark');
        }
    })
</script>